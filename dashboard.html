<!DOCTYPE <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <script src=main.js></script>
    <script>
        var blokken = [
            [
                {
                    naam: "Studieloopbaan Orientatie",
                    cijfer: 7,
                    maxStudiepunten: 2.5
                },
                {
                    naam: "Computer Science Basics",
                    cijfer: 4,
                    maxStudiepunten: 7.5
                },
                {
                    naam: "Programming Basics",
                    cijfer: 9,
                    maxStudiepunten: 5
                }
            ],
            [
                {
                    naam: "Object-oriented programming",
                    cijfer: null,
                    maxStudiepunten: 10
                },
                {
                    naam: "Professional skills 1",
                    cijfer: null,
                    maxStudiepunten: 2.5
                },
                {
                    naam: "HZ-Personality 2a",
                    cijfer: null,
                    maxStudiepunten: 2.5
                },
                {
                    naam: "IT Personality 2a",
                    cijfer: null,
                    maxStudiepunten: 2.5
                }
            ],
            [
                {
                    naam: "Framework development 1",
                    cijfer: null,
                    maxStudiepunten: 5
                },
                {
                    naam: "Framework project 1",
                    cijfer: null,
                    maxStudiepunten: 5
                },
                {
                    naam: "Professional skills 2",
                    cijfer: null,
                    studiepunten: null,
                    maxStudiepunten: 2.5
                }
            ],
            [
                {
                    naam: "Framework development 2",
                    cijfer: null,
                    maxStudiepunten: 5
                },
                {
                    naam: "Framework project 2",
                    cijfer: null,
                    maxStudiepunten: 5
                },
                {
                    naam: "Professional skills 3",
                    cijfer: null,
                    maxStudiepunten: 2.5
                },
                {
                    naam: "Professionele werkplek 1",
                    cijfer: null,
                    maxStudiepunten: 2.5
                }
            ]
        ];
    </script>
</head>
<body>
    <!--Header in alle bestanden-->
    <header id=header>
        <h1 id=title>Dashboard</h1>
        <ul>
            <a href=/><li>Landingspagina</li></a>
            <a href=/profiel.html><li>Profiel</li></a>
            <a href=/dashboard.html><li>Dashboard</li></a>
        </ul>
    </header>
    <!--Main panel-->
    <div class=panel>
        <!--Elk item in het panel gesplitst in contentItem-->
        <div class=contentItem>
            <label class="title titleOff unselectable" for=checkbox-studiemonitor on="title titleOn unselectable" off="title titleOff unselectable"><span>Studiemonitor</span></label>
            <input type="checkbox" id=checkbox-studiemonitor hidden="hidden" autocomplete=off onload="checkboxLabelToggle(this);" onchange="checkboxLabelToggle(this);" />
            <div class=content>
                <div id=toetsOverzicht>
                    <div class=header>
                        <p>Blok/Toetsnaam</p>
                        <p>Maximale Studiepunten</p>
                        <p>Behaalde Cijfer</p>
                        <p>Behaalde Studiepunten</p>
                    </div>
                </div> <!--Extra info toe gevoegd door JS-->
            </div>
        </div>
        <div class=contentItem>
            <label class="title titleOff unselectable" for=checkbox-relevante-links on="title titleOn unselectable" off="title titleOff unselectable"><span>Relevante Links</span></label>
            <input type="checkbox" id=checkbox-relevante-links hidden="hidden" autocomplete=off onload="checkboxLabelToggle(this);" onchange="checkboxLabelToggle(this);" />
            <div class=content>
                <ul>
                    <li><a href="https://hz.nl/uploads/documents/Regelingen/NL/Onderwijs-examenregelingen/OER-HZ-2018-2019docv2018-06-26DEFCvB-V-01.pdf">Het Onderwijs en Examenregelement (OER) van de HZ</a></li>
                    <hr>
                    <li><a href="https://hz.nl/uploads/documents/Regelingen/OERS/2016-2017/Uitvoeringsregeling-2016-2017-HBO-ICT-voltijd.pdf">De Uitvoeringsregeling (UR) van de opleiding HBO-ICT</a></li>
                    <hr>
                    <li><a href="https://learn.hz.nl/">De learn omgeving van de HZ</a></li>
                    <hr>
                    <li><a href="https://HZ-HBO-ICT.slack.com/">De Slack van de opleiding HBO-ICT</a></li>
                    <hr>
                    <li><a href="https://apps.hz.nl/angular/studievoortgang/studiestatus">Studievoortgang in MyHZ</a></li>
                    <hr>
                    <li><a href="https://github.com/HZ-HBO-ICT">De Github omgeving van de opleiding HBO-ICT</a></li>
                </ul>
            </div>
        </div>
        <!-- Expansion:
        <div class=contentItem>
            <label class="title titleOff unselectable" for=c1 on="title titleOn unselectable" off="title titleOff unselectable"><span>c1</span></label>
            <input type="checkbox" id=c1 hidden="hidden" autocomplete=off onload="checkboxLabelToggle(this);" onchange="checkboxLabelToggle(this);" />
            <div class=content>
                <p>
                    Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nam ipsa neque maiores earum dicta, laboriosam repudiandae! Modi, nemo rerum. Perferendis tenetur recusandae quisquam sed eius sit nemo error architecto porro.
                </p>
            </div>
        </div>
        -->
    </div>
    </body>
    <script>
        function onScroll() {
            console.log("scroll event")
            if (window.scrollY>0) {
                // set the background color of the header title to the same as the rest of the nav bar if someone scrolls down
                document.getElementById('header').style="background-color: var(--navbar-color);"
            } else {
                //reset all specific styling for the header object if scrolled all the way to the top
                document.getElementById('header').style=""
            }
        }
        document.getElementsByTagName("body")[0].onscroll = function() {onScroll()};
        
        function makeElem(tagName, className) {
            toRet = document.createElement(tagName);
            toRet.className = className;
            return toRet;
        }

        var toetsOverzicht = document.getElementById('toetsOverzicht');
        var totalEC = 0;
        for (blok in blokken) {
            var blokUL = makeElem('ul', 'blok');
            var blokTitel = makeElem('li', 'titel');
            blokTitel.innerHTML = "Blok " + (Number(blok) + 1); //0-indexed, so need to add one
            blokUL.appendChild(blokTitel);
            for (toets in blokken[blok]) {
                var toetsLI = makeElem('li', 'toets');
                var toetsNaam = makeElem('p', 'naam');
                var toetsECMax = makeElem('p', 'maxEC');
                var toetsScore = makeElem('p', 'score');
                var toetsEC = makeElem('p', 'EC');
                if (blokken[blok][toets].naam != null) {
                    toetsNaam.innerHTML = blokken[blok][toets].naam;
                    if (blokken[blok][toets].maxStudiepunten != null) toetsECMax.innerHTML = "(" + blokken[blok][toets].maxStudiepunten + " EC)";
                    if (blokken[blok][toets].cijfer != null) {
                        toetsScore.innerHTML = blokken[blok][toets].cijfer.toFixed(1);
                        if (blokken[blok][toets].cijfer >= 5.5) {
                            totalEC += blokken[blok][toets].maxStudiepunten;
                            if (blokken[blok][toets].maxStudiepunten != null) toetsEC.innerHTML = "(" + blokken[blok][toets].maxStudiepunten + " EC)";
                        } else {
                            toetsLI.className += " -";
                            if (blokken[blok][toets].maxStudiepunten != null) toetsEC.innerHTML = "(0 EC)";
                        }
                    }
                }
                toetsLI.appendChild(toetsNaam);
                toetsLI.appendChild(toetsECMax);
                toetsLI.appendChild(toetsScore);
                toetsLI.appendChild(toetsEC);
                blokUL.appendChild(toetsLI);
            }
            toetsOverzicht.appendChild(blokUL);
        }
        console.log(totalEC);
        total = makeElem('div', 'totaal');
        var voortgang = "";
        if (totalEC < 45) {
            voortgang += " -";
        } else if (totalEC < 60) {
            voortgang += " +-";
        } else {
            voortgang += " +";
        }
        var voortgangperc = Math.min(Math.floor(totalEC/60 * 100), 100)
        total.innerHTML = "<p class=" + voortgang + " style=\"width: " + voortgangperc + "%;\">Studievoortgang</p>"
        toetsOverzicht.appendChild(total);
    </script>
    </html>